# 🧾 Forensic Expertise Platform

**Многофункциональная система автоматизации судебных экспертиз**, построенная на микросервисной архитектуре с акцентом на безопасность, масштабируемость и производительность.

## 📌 Описание

Платформа предназначена для автоматизации полного жизненного цикла судебной экспертизы:

- Управление профилями экспертов и заказчиков
- Формирование и прохождение чек-листов
- Загрузка и хранение медиафайлов (фото, схемы, документы)
- Генерация Word и PDF документов
- Администрирование тарифов и ролей
- Уведомления по email

## 🧱 Архитектура

Проект реализован в виде независимых микросервисов:

| Сервис         | Назначение |
|----------------|------------|
| `back_auth`    | Аутентификация и авторизация через Keycloak и JWT |
| `back_profile` | Управление профилями пользователей. *удалён из публичной версии |
| `back_expertise` | **Основная бизнес-логика работы с экспертизами, чек-листами и генерацией документов** |
| `back_mail`    | Отправка email-уведомлений |
| `back_minio`   | Хранение и обработка файлов через MinIO |
| `back_tariff`  | Управление тарифами и их назначением. *удалён из публичной версии |
| `back_gateway` | API Gateway с маршрутизацией, фильтрацией, CORS |
| `back_admin`   | Административные функции |
| `back_config`  | 🛡️ *удалён из публичной версии из соображений безопасности (переменные окружения, секреты)* |

## 💡 Особенности

- **Акцент на сложной логике** в сервисе `back_expertise`: динамические чек-листы, вложенные параметры, структурированное хранение JSON, генерация документов на лету, вставка медиа из MinIO, адаптивные шаблоны.
- Расширяемость за счёт шаблонов и кастомных обработчиков.
- Вставка схем, таблиц и изображений в DOCX-файлы с использованием `docx4j`.
- Поддержка сложной структуры данных с UUID и JSONB в PostgreSQL.

## ⚙️ Технологии

- Java 17+
- Spring Boot, Spring Cloud (Eureka, Gateway)
- PostgreSQL + Liquibase
- Keycloak + OAuth2 + JWT
- MinIO (S3-совместимое хранилище)
- Apache Kafka (опционально)
- Docker / Docker Compose
- docx4j, Apache POI

## 🔐 Безопасность

> Проект **очищен от чувствительных данных**. Конфигурационный репозиторий (`back_config`) удалён. Все секреты и переменные окружения выведены за пределы публичного доступа.

## 🧪 Тестирование

- JUnit 5
- Mockito
- Testcontainers для интеграционных тестов

---

> 📁 Разработка ведётся в `develop`, прод ветка — `master`. Их здесь также нет.

